
# What is CNC Machining?

 - Computerized Numerical Control (CNC) Machining is a method used to perform a wide range of manufacturing tasks, which are all carried out by computerized devices. With the help of Computer Aided Design (CAD) and Computer Aided Machining (CAM) in the late 1970s, CNC machines replaced the old-school manual machines.

 - The new CNC machines were able to be controlled by programming language to carry out a wider variety of tasks with greater accuracy. These machines also allow for a more automated control, which improves productivity.

# Why is CNC Machining necessary?

 - CNC machine operators work in a wide variety of fields. People from all different pursuits, such as hobbyists and even military groups, take advantage of the cost savings accrued by using CNC machines to turn raw materials into final products. The machines are faster, more efficient and safer, too.

 - CNC Computer Numerical Control machines are widely used in manufacturing industry. Traditional machines such as vertical millers, centre lathes, shaping machines, routers etc.... operated by a trained engineer have, in many cases, been replaced by computer control machines.

# ADVANTAGES

 1. CNC machines can be used continuously 24 hours a day, 365 days a year and only need to be switched off for occasional maintenance.

 2. CNC machines are programmed with a design which can then be manufactured hundreds or even thousands of times. Each manufactured product will be exactly the same.

 3. Less skilled/trained people can operate CNCs unlike manual lathes / milling machines etc. which need skilled engineers.

 4. CNC machines can be updated by improving the software used to drive the machines.

 5. Training in the use of CNCs is available through the use of ‘virtual software’. This is software that allows the operator to practice using the CNC machine on the screen of a computer. The software is similar to a computer game.

 6. CNC machines can be programmed by advanced design software such as Pro/DESKTOP®, enabling the manufacture of products that cannot be made by manual machines, even those used by skilled designers / engineers.

 7. Modern design software allows the designer to simulate the manufacture of his/her idea. There is no need to make a prototype or a model. This saves time and money.

 8. One person can supervise many CNC machines as once they are programmed they can usually be left to work by themselves. Sometimes only the cutting tools need replacing occasionally.

 9. A skilled engineer can make the same component many times. However, if each component is carefully studied, each one will vary slightly. A CNC machine will manufacture each component as an exact match.

# DISADVANTAGES

 1. CNC machines are more expensive than manually operated machines, although costs are slowly coming down.

 2. The CNC machine operator only needs basic training and skills, enough to supervise several machines. In years gone by, engineers needed years of training to operate centre lathes, milling machines and other manually operated machines. This means many of the old skills are been lost.

 3. Less workers are required to operate CNC machines compared to manually operated machines. Investment in CNC machines can lead to unemployment.
 4. Many countries no longer teach pupils / students how to use manually operated lathes / milling machines etc... Pupils / students no longer develop the detailed skills required by engineers of the past. These include mathematical and engineering skills.

# CNC WORK - AN INTRODUCTION
 - In Industry it is not efficient or profitable to make everyday products by hand. On a CNC machine it is possible to make hundreds or even thousands of the same item in a day. First a design is drawn using design software, then it is processed by the computer and manufactured using the CNC machine. The machine featured below is the BOXFORD DUET. This is a small CNC machine and can be used to machine woods, plastics and aluminium. In industry, CNC machines can be extremely large. The Duet is one of the smaller CNCs and is ideal for use in schools.


![u1](/src/u1.png)
 - Have a look at the photograph on the right. Can you imagine how long it would take a skilled worker to ‘carve’ this shape out of wood or a soft material - it would probably take a full day. We will be going through its manufacture, one step at a time using a CNC machine (next page). How long do you think manufacturing this product with a CNC machine will take ?


![u2](/src/u2.png)


&nbsp;

# THE CNC MACHINE

![u3](/src/u3.png)
 - The VICE: This holds the material to be cut or shaped. Material must be held securely otherwise it may 'fly' out of the vice when the CNC begins to machine. Normally the vice will be like a clamp that holds the material in the correct position.

 - The GUARD: The guard protects the person using the CNC. When the CNC is machining the material small pieces can be 'shoot' off the material at high speed. This could be dangerous if a piece hit the person operating the machine. The guard completely encloses the the dangerous areas of the CNC.

 - The CHUCK: This holds the material that is to be shaped. The material must be placed in it very carefully so that when the CNC is working the material is not thrown out at high speed.

 - The MOTOR: The motor is enclosed inside the machine. This is the part that rotates the chuck at high speed.

 - The LATHE BED: The base of the machine. Usually a CNC is bolted down so that it cannot move through the vibration of the machine when it is working.

 - The CUTTING TOOL: This is usually made from high quality steel and it is the part that actually cuts the material to be shaped.

 1. Draw a small CNC machine and label the most important parts.

 2. List the safety factors that people must be aware of before they operate a CNC or similar machine.


![u4](/src/u4.png)

# HOW THE COORDINATES WORK?

 - The way coordinates are used can be seen opposite. The X, Y and Z axis control the movement of the cutter on a 3D CNC machine. This allows materials to be machined in three directions (3D manufacture).


![u5](/src/u5.png)

  - The plastic block shown below has been shaped on a CNC machine. It started as a cube.

  - The design (produced on CAD, Computer Aided Design software) has been converted into coordinates. The cutter is instructed to go from one coordinate to another. A simple plastic block such as this may have a thousand coordinates.

  - For example, point ‘A’ on the plastic block has coordinates 18, 8, 23 (see diagram). The block is composed of thousands of coordinates and the cutter goes from the first set of coordinates to the second set to the third set and so on, until it has completed the thousand coordinates. As the cutter is spinning at high speed, and travels through all the sets of coordinates, it cuts and shapes the block, as it goes along.


![u6](/src/u6.png)

 - The animation below shows how the coordinates change as the cutter moves across the block of material. The 'Z' coordinate does not chnage as the cutter remins at the same height, despites its movement on the X and Y axis.


![u7](/src/u7.png)


&nbsp;

# CNC - STAGES IN CNC WORK

# HOW TO USE A TYPICAL CNC MACHINE

 1. The design is loaded into the computer which is attached to the CNC machine. The computer changes the design into a special code (numerical) that controls the way the CNC cuts and shapes the material.


![u8](/src/u8.png)

 2. The material to be shaped is taped on to a block with double sided tape. This must be done carefully so that it does not come off the block during machining.


![u9](/src/u9.png)

 3. The block is then placed in the vice, inside the CNC. It must be tightened up carefully. If it is not secure when the machine starts to cut the material it can come away from the vice. When the machine starts working, the vice moves up, down, right and left according to the design.


![u10](/src/u10.png)

 4. The guard is placed in position. It protects the machine operator in case the material is pulled out of the vice by the power of the cutter. For safety reasons, if the guard is not in position the motor will not start.


![u11](/src/u11.png)

 5. The CNC is turned on and the shape is cut from the material. When the cutter has stopped the shaped material can be removed from the vice. Total time - for simple designs - 15 minutes.


![u12](/src/u12.png)

 - In your own words and with the help of diagrams, explained the stages involved in the use of a CNC machine such as the one shown above.


&nbsp;

# INDUSTRIAL PRODUCTION FLOWCHART AND QUALITY CONTROL

 - A production flow chart is very important when planning the manufacture of a product. Although CNC products can be small, quality in manufacture is crucial. Draw a flowchart similar to the one below. This should explain every stage of the manufacture of a product you have produced through the use of a CNC machine. Include a number of quality checks. Quality control is an essential part of any project and at any stage the product may be rejected if a fault or inaccuracy is found. To help you create your production flow chart the stages involved in the manufacture of a CNC project are listed on the previous page. Also a photograph of the product, with details are shown below. Remember to include quality control.

# CNC PROJECT:
 - This is a small trophy for a cyclist. The part manufactured through CNC is the rectangular clear plastic piece. This has been engraved using a CNC machine. The trophy also has an MDF back which has been coloured to provide scenery and a small green plastic front shaped to give the illusion of grass.


![u13](/src/u13.png)


&nbsp;

# CNC MACHINE - INPUT, PROCESS, OUTPUT

 - A CNC production facility needs three pieces of equipment:

# A Computer

 - The computer is used to draw the design. CAD - Computer Aided Design software is used for this purpose. However, the design is only a picture and the CNC machine cannot use this to manufacture the product. The computer software must also convert the drawing into numbers (coordinates) that the CNC machine can use when it starts to cut and shape the material.

# An Interface:
 - A computer cannot be directly connected to a CNC machine. The computer is connected to an interface. Modern CNC machines have a ‘built in’ or integral interface, which appears part of the CNC machine. This circuit converts the signals from the computer to a form that the CNC machine understands. Older CNC machines have a separate ‘box’ called the interface. The signals are in the form of digital signals when they are sent to the CNC machine.

# CNC (Computer Numerical Control) Machine:
 - The signals from the interface control the motors on the CNC machine. The signals determine the way the vice moves. The vice moves in three directions X, Y and Z. (Horizontally, vertically and depth). The signals also control the speed of the cutting tool.

 - The whole process of designing and making an item on the CNC machine can be split into three aspects INPUT-PROCESS-OUTPUT. The diagram below explains this system.


![u14](/src/u14.png)


&nbsp;

# CLASSIFICATION OF CNC MACHINE TOOL

# (1) Based on the motion type 'point-to-point and contouring syatems:
 - There are two main types of machine tools and the control systems required for use with them differ because of the basic differences in the functions of the machines to be controlled. They are known as point-to-point and contouring controls.

# Point-to-point systems:
 - Some machine tools for example drilling, boring and tapping machines etc, require the cutter and the work piece to be placed at a certain fixed relative positions at which they must remain while the cutter does its work. These machines are known as point-to-point machines as shown in figure 22.1 (a) and the control equipment for use with them are known as point-to-point control equipment. Feed rates need not to be programmed. In theses machine tools, each axis is driven separately. In a point-to-point control system, the dimensional information that must be given to the machine tool will be a series of required position of the two slides. Servo systems can be used to move the slides and no attempt is made to move the slide until the cutter has been retracted back.

# Contouring systems (Continuous path systems):
 - Other type of machine tools involves motion of work piece with respect to the cutter while cutting operation is taking place. These machine tools include milling, routing machines etc. and are known as contouring machines as shown in figure 22.1 (b) and the controls required for their control are known as contouring control. Contouring machines can also be used as point-to-point machines, but it will be uneconomical to use them unless the work piece also requires having a contouring operation to be performed on it. These machines require simultaneous control of axes. In contouring machines, relative positions of the work piece and the tool should be continuously controlled. The control system must be able to accept information regarding velocities and positions of the machines slides. Feed rates should be programmed.


![u15](/src/u15.png)
# (a) Point-to-point system


![u16](/src/u16.png)
# (b) Contouring system


![u17](/src/u17.png)
# (c) Contouring systems

# (2) Based on the control loops 'open loop and closed loop systems
# Open loop systems:

 - Programmed instructions are fed into the controller through an input device. These instructions are then converted to electrical pulses (signals) by the controller and sent to the servo amplifier to energize the servo motors. The primary drawback of the open-loop system is that there is no feedback system to check whether the program position and velocity has been achieved. If the system performance is affected by load, temperature, humidity, or lubrication then the actual output could deviate from the desired output. For these reasons the open -loop system is generally used in point-to-point systems where the accuracy requirements are not critical. Very few continuous-path systems utilize open-loop control.


![u18](/src/u18.png)
# (a) Open loop control system


![u19](/src/u19.png)
# (b) Closed loop control system


![u20](/src/u20.png)
# (c) Open loop system

# Closed loop systems:

 - The closed-loop system has a feedback subsystem to monitor the actual output and correct any discrepancy from the programmed input. These systems use position and velocity feedback. The feedback system could be either analog or digital. The analog systems measure the variation of physical variables such as position and velocity in terms of voltage levels. Digital systems monitor output variations by means of electrical pulses. To control the dynamic behavior and the final position of the machine slides, a variety of position transducers are employed. Majority of CNC systems operate on servo mechanism, a closed loop principle. If a discrepancy is revealed between where the machine element should be and where it actually is, the sensing device signals the driving unit to make an adjustment, bringing the movable component to the required location.

 - Closed-loop systems are very powerful and accurate because they are capable of monitoring operating conditions through feedback subsystems and automatically compensating for any variations in real-time.


![u21](/src/u21.png)
# (d) Closed loop system

# Based on the number of axes  2, 3, 4 and 5 axes CNC machines.

# 2 and 3 axes CNC machines:
 - CNC lathes will be coming under 2 axes machines. There will be two axes along which motion takes place. The saddle will be moving longitudinally on the bed (Z-axis) and the cross slide moves transversely on the saddle (along X-axis). In 3-axes machines, there will be one more axis, perpendicular to the above two axes. By the simultaneous control of all the 3 axes, complex surfaces can be machined.

# 4 and 5 axes CNC machines:
 - 4 and 5 axes CNC machines provide multi-axis machining capabilities beyond the standard 3-axis CNC tool path movements. A 5-axis milling centre includes the three X, Y, Z axes, the A axis which is rotary tilting of the spindle and the B-axis, which can be a rotary index table.


![u22](/src/u22.png)
# Figure: Five axes CNC machine

# Importance of higher axes machining :

 - Reduced cycle time by machining complex components using a single setup. In addition to time savings, improved accuracy can also be achieved as positioning errors between setups are eliminated.

  - Improved surface finish and tool life by tilting the tool to maintain optimum tool to part contact all the times.

  - Improved access to under cuts and deep pockets. By tilting the tool, the tool can be made normal to the work surface and the errors may be reduced as the major component of cutting force will be along the tool axis.

  - Higher axes machining has been widely used for machining sculptures surfaces in aerospace and automobile industry.

# Turning centre:

 - Traditional centre lathes have horizontal beds. The saddle moves longitudinally and the cross slide moves transversely. Although the tools can be clearly seen, the operator must lean over the tool post to position them accurately. Concentration of chips may be creating a heat source and there may be temperature gradients in the machine tool. Keeping the above points in view, developments in the structure of the turning centers lead to the positioning the saddle and the cross slide behind the spindle on a slant bed as shown in the figure 22.4. Chips fall freely because of slant bed configuration which is more ergonomically acceptable from operator's point of view.


![u23](/src/u23.png)
# Fig. Slant bed turning centre

# Based on the power supply  Electric, Hydraulic and Pneumatic systems:

 - Mechanical power unit refers to a device which transforms some form of energy to mechanical power which may be used for driving slides, saddles or gantries forming a part of machine tool. The input power may be of electrical, hydraulic or pneumatic.


![u24](/src/u24.png)

# Electric systems:
 - Electric motors may be used for controlling both positioning and contouring machines. They may be either A.C. or D.C. motor and the torque and direction of rotation need to be controlled. The speed of a D.C. motor can be controlled by varying either the field or the armature supply. The clutch-controlled motor can either be an A.C. or D.C. motor. They are generally used for small machine tools because of heat losses in the clutches. Split field motors are the simplest form of motors and can be controlled in a manner according to the machine tool. These are small and generally run at high maximum speeds and so require reduction gears of high ratio. Separately excited motors are used with control systems for driving the slides of large machine tools.

# Hydraulic systems:
 - These hydraulic systems may be used with positioning and contouring machine tools of all sizes. These systems may be either in the form of rams or motors. Hydraulic motors are smaller than electric motors of equivalent power. There are several types of hydraulic motors. The advantage of using hydraulic motors is that they can be very small and have considerable torque. This means that they may be incorporated in servo systems which require having a rapid response.

# Precision in NC Positioning

 - For accurate machining or other processing performed by an NC system, the positioning system must possess a high degree of precision. Three measures of precision can be defined for an NC positioning system: (I) control resolution. (2) Accuracy, and (3) repeatability. These terms are most readily explained by considering a single axis of the positioning system, as depicted in Figure. Control resolution refers to the control system's ability to divide the total range of the axis movement into closely spaced points that can be distinguished by the Men Control resolution is defined as the distance separating two adjacent addressable points in the axis movement. Addressable points are locations along the axis to which the worktable can be specifically directed to go. It is desirable for control resolution to be as small as possible. This depends on limitations imposed by: (1) the electromechanical components of the positioning system and/or (2) the number of bits used by the controller to define the axis coordinate location.


![u25](/src/u25.png)
# Figure: A portion of a linear positioning system axis, with definition of control resolution. Accuracy, and repeatability.

# ENGINEERING ANALYSIS OF NC POSITIONING SYSTEMS

 - The NC positioning system converts the coordinate axis values in the NC part program into relative positions of the tool and work part during processing. Let us consider the simple positioning system shown in Figure. The system consists of a cutting tool and a worktable on which a work part is fixtured. The table is designed to move the part relative to the tool. The worktable moves linearly by means of a rotating leadscrew, which is driven by a stepping motor or servomotor. For simplicity, we show only one axis in our sketch. To provide x-y capability: the system shown would be piggybacked on top of a second axis perpendicular to the first. The leadscrew has a certain pitch p (in/thread, mm/thread). Thus, the table moves a distance equal to the pitch for each revolution. The velocity of the worktable, which corresponds to the feed rate in a machining operation, is determined by the rotational speed to the lead screw.


![u26](/src/u26.png)
# Figure: Motor and leadscrew arrangement in an NC positionmg system.

 - There are two types of positioning systems used in NC systems: (a) open loop and (b) closed loop, as shown in Figure. An open-loop system operates without verifying that the actual position achieved in the move is the same as the desired position. A closedloop control system uses feedback measurements to confirm that the final position of the worktable is the location specified in the program. Open-loop systems cost less than closedloop systems and are appropriate when the force resisting the actuating motion is minimal. Closed-loop systems are normally specified for machines that perform continuous path operations such as milling or turning, in which there are significant forces resisting the forward motion of the Cutting tool.


![u27](/src/u27.png)
# Fig.Two types of motion control in NC: (a) open loop and (b) closed loop.

# Closed-Loop Positioning Systems

 - A closed-loop NC system, illustrated in fig. uses servomotors and feedback measurements to ensure that the worktable is moved to the desired position. A common feedback sensor used for NC (and also for industrial robots) is the optical encoder, shown in Figure. An optical encoder consists of a light source and a photo detector on either side of a disk. The disk contains slots uniformly spaced around the outside of its face. These slots allow the light source to shine through and energize the photo detector. The disk is connected, either directly or through a gear box, to a rotating shaft whose angular position and velocity are to be measured. As the shaft rotates, the slots cause the light source to be seen by the photocell as a series of flashes. The flashes are converted into an equal number of electrical pulses. By counting the pulses and computing the frequency of the pulse train, worktable position and velocity can be determined.

 - The equations that define the operation of a closed-loop NC positioning system are similar to those for an open-loop system. In the basic optical encoder, the angle between slots in the disk must satisfy the following requirement:

![u28](/src/u28.png)
# Fig. Optical encoder: (a) apparatus and (b) series of pulses emitted to measure rotation of disk

# Basic Components of an NC System
 - An NC system consist of three basic components: (i) a program of instructions (ii) Machine Control Unit, and (iii) processing equipment.

 - The program of instruction is detailed step by step command that direct the action of processing equipment. In machine tool applications, the program of instruction is called a part program.

 - Additional instructions are usually included, such as spindle speed, feed rate, cutting tool selection. and other functions The program is coded on a suitable medium for submission to the machine control unit For many years  the common medium was 1-inch wide punched tape  using a standard format that could he interpreted by the machine control unit. Today punched tape has been replaced by newer storage technologies in modern machine shops. These include magnetic tape, diskettes, and electronic transfer of part program from a computer. In modern NC technology, the machine controt unit (MCU) consists or a microcomputer and related control hardware that stores the program of instructions and executes it by converting each command into mechanical actions of the processing equipment, one command at a time. The related hardware of the MCU includes components to interface with the processing equipment and reedbuck control elements. The MCU also includes one or more reading devices for entering part programs into memory. The type of readers depends on the storage media used for part programs in the machine shop (eg. punched tape reader. magnetic tape reader, floppy disk drive). The MCU also includes control system software, calculation algorithms and translation software to convert the NC part program into a usable format for the MCU), Because the MCU is a computer, the term computer numerical control (CNC) is used to distinguish this type of NC from its technological predecessors that were based entirely on hard-Wired electronics. Today, virtually all new MCUs are based on computer technology; hence when we refer to NC in this chapter and elsewhere, we mean CNC.

 - The third basic component of an NC system is the processing equipment that performs useful work. It accomplishes the processing steps to transform the starting workpiece into a completed part, operation is directed by the MCU, which in turn is driven by instruction, contained in the pun program. In the most common example of NC, machining, the processing equipment consist of the worktable and spindle as well as the motors and controls to drive them.


![u29](/src/u29.png)
# Fig. Basic components of an NC system.
# PRINCIPLE OF OPERATION OF A NUMERICAL CONTROLLED MACHINE

 - The CNC machine differs from a conventional manual machine in several respects. The principle of operation of a numerical controlled machine can be explained with the help of Fig. The figure shows a vertical milling machine. For carrying out an operation like end milling the spindle head is to be positioned in Z- axis and the table in X and Y coordinate axes. The feed movement is to be realized by the individual or simultaneous movement of X and Y axes. Thus the milling machine requires three slide movements, which are usually referred as axes feed drives. A special feature of a CNC machine is that a separate motor called a servomotor individually drives each axis. AC servomotors are the preferred choice for this purpose today. DC servomotors were widely used earlier. The slides are driven by the servomotors through recirculating ball screw and nut assemblies. The use of re-circulating ball screw reduces friction, backlash and wear. The low friction reduces the torque required at the motor and the lost motion through torsional deflection of the screw. The use of ball screws also improves the dynamic response of the system. In some modern designs, particularly in the case of high-speed machines, linear motors are used in the place of servomotor ball screw combination.


![u30](/src/u30.png)
# Fig. Ball Screw Mechanism

 - In order to carry out the milling operation on the workpiece the coordinate information (X, and Y coordinates) of the starting point and the ending point has to be coded in the NC program. Similarly, the information regarding the direction of rotation and speed of the spindle, use of coolant, and the feed rate is also coded suitably. The CNC controller decodes the positioning information coded in the NC program and the slide is moved to the programmed position at the required feed rate. Each slide is fitted with a feedback transducer, which continuously monitors the slide position and compares with the programmed position as well as the feedrate. The feedback transducer is mounted either on the slide or on the servomotor and measures the displacement or position of the slide. For example, let us assume that a hole is to be drilled at the location X = 100.0 and Y = 150.0. The corresponding block of the program is read by the control system and the necessary inputs are sent to the X and Y-axis servomotors. These motors drive the respective slides to the commanded position. When the distance information from the feedback devices equals the programmed values, the slide movement stops. The input is then given to the Z-axis servomotor to perform the drilling operation. The system switches on the motor driving the spindle carrying the drill and commands the Z-axis servomotor to move at the programmed feedrate into the workpiece till the programmed depth is reached. The Z-axis feedback transducer ensures the correct depth and feedrate. The drill is then withdrawn to the desired height and the machine starts the positioning movements to the next location of the drill. This procedure thus ensures production of accurate workpieces.

 - The feedback transducer used may be analog (synchro resolver) or digital (encoders). Another classification of feedback transducer is based on their nature of measurementabsolute or incremental. They are also classified as linear or rotary depending upon their construction. Linear feedback devices include optical scales, inductosyn etc. Rotary feedback devices are mounted either on the ball screw or on the motor shaft and measure the slide position indirectly. Rotary encoders, optical scales, and synchro resolvers are the commonly used rotary feed back devices. The measured and the targeted positions are compared and the servo system ensures that the correct positioning is achieved to make this error (difference between targeted and measured positions) zero. The resolution of axis feed drive is usually one micrometre. Since positioning is done electronically, it is possible to achieve accuracy and repeatability of the order of 5-10 micrometres even under heavy-duty cutting conditions. Two servo loops are incorporated in feed drive - one for the position and the other for the feed. In addition to this, the selection of spindle speed is also under servo control. The principle of operation of the servo system used in a CNC Machine tool is described below.


![u31](/src/u31.png)
# Figure: Closed Loop System


&nbsp;

# Programming Fundamentals

 - Machining involves an important aspect of relative movement between cutting tool and work piece. In machine tools this is accomplished by either moving the tool with respect to work piece or vice versa. In order to define relative motion of two objects, reference directions are required to be defined. These reference directions depend on type of machine tool and are defined by considering an imaginary coordinate system on the machine tool. A program defining motion of tool / work piece in this coordinate system is known as a part program. Lathe and Milling machines are taken for case study but other machine tools like CNC grinding; CNC Hobbing, CNC filament winding machine, etc. can also be dealt with in the same manner.

# Reference Points

 - Part programming requires establishment of some reference points. Three reference points are either set by manufacturer or user.

 - a) Machine Origin The machine origin is a fixed point set by the machine tool builder. Usually it cannot be changed. Any tool movement is measured from this point. The controller always remembers tool distance from the machine origin.

 - b) Program Origin It is also called home position of the tool. Program origin is point from where the tool starts for its motion while executing a program and returns back at the end of the cycle. This can be any point within the workspace of the tool which is sufficiently away from the part. In case of CNC lathe it is a point where tool change is carried out.

 - c) Part Origin The part origin can be set at any point inside the machine's electronic grid system. Establishing the part origin is also known as zero shift, work shift, floating zero or datum. Usually part origin needs to be defined for each new setup. Zero shifting allows the relocation of the part. Sometimes the part accuracy is affected by the location of the part origin. Figure shows the reference points on a lathe and milling machine.


![u32](/src/u32.png)
# Figure: Reference points and axis on a lathe


![u33](/src/u33.png)
# Figure: Reference points and axis on a Milling Machine

# Axis Designation

 - An object in space can have six degrees of freedom with respect to an imaginary Cartesian coordinate system. Three of them are liner movements and other three are rotary. Machining of simple part does not require all degrees of freedom. With the increase in degrees of freedom, complexity of hardware and programming increases. Number of degree of freedom defines axis of machine. Axes interpolation means simultaneous movement of two or more different axes to generate required contour. For typical lathe machine degree of freedom is 2 and so it called 2 axis machines. For typical milling machine degree of freedom is , which means that two axes can be interpolated at a time and third remains independent. Typical direction for the lathe and milling machine is as shown in figure.

 - Setting up of Origin In case of CNC machine tool rotation of the reference axis is not possible. Origin can set by selecting three reference planes X, Y and Z. Planes can be set by touching tool on the surfaces of the work piece and setting that surfaces as X=x, Y=y and Z=z.

# Coding Systems

 - The programmer and the operator must use a coding system to represent information, which the controller can interpret and execute. A frequently used coding system is the Binary-Coded Decimal or BCD system. This system is also known as the EIA Code set because it was developed by Electronics Industries Association. The newer coding system is ASCII and it has become the ISO code set because of its wide acceptance.

# CNC Code Syntax

 - The CNC machine uses a set of rules to enter, edit, receive and output data. These rules are known as CNC Syntax, Programming format, or tape format. The format specifies the order and arrangement of information entered. This is an area where controls differ widely. There are rules for the maximum and minimum numerical values and word lengths and can be entered, and the arrangement of the characters and word is important. The most common CNC format is the word address format and the other two formats are fixed sequential block address format and tab sequential format, which are obsolete. The instruction block consists of one or more words. A word consists of an address followed by numerals. For the address, one of the letters from A to Z is used. The address defines the meaning of the number that follows. In other words, the address determines what the number stands for. For example it may be an instruction to move the tool along the X axis, or to select a particular tool.

![u34](/src/u34.png)

 - Most controllers allow suppressing the leading zeros when entering data. This is known as leading zero suppression. When this method is used, the machine control reads the numbers from right to left, allowing the zeros to the left of the significant digit to be omitted. Some controls allow entering data without using the trailing zeros. Consequently it is called trailing zero suppression. The machine control reads from left to right, and zeros to the right of the significant digit may be omitted.

# Types of CNC codes

# Preparatory codes:

 - The term preparatory in NC means that it prepares the control system to be ready for implementing the information that follows in the next block of instructions. A preparatory function is designated in a program by the word address G followed by two digits. Preparatory functions are also called G-codes and they specify the control mode of the operation.

# Miscellaneous codes:

 - Miscellaneous functions use the address letter M followed by two digits. They perform a group of instructions such as coolant on/off, spindle on/off, tool change, program stop, or program end. They are often referred to as machine functions or M-functions. Some of the M codes are given below.

 - M00  Unconditional stop

 - M02  End of program

 - M03  Spindle clockwise

 - M04  Spindle counterclockwise

 - M05  Spindle stop

 - M06  Tool change (see Note below) M30 End of program

 - In principle, all codes are either modal or non-modal. Modal code stays in effect until cancelled by another code in the same group. The control remembers modal codes. This gives the programmer an opportunity to save programming time. Non-modal code stays in effect only for the block in which it is programmed. Afterwards, its function is turned off automatically. For instance G04 is a non-modal code to program a dwell. After one second, which is say, the programmed dwell time in one particular case, this function is cancelled. To perform dwell in the next blocks, this code has to be reprogrammed. The control does not memorize the non-modal code, so it is called as one shot codes. One-shot commands are non-modal. Commands known as canned cycles (a controller's internal set of preprogrammed subroutines for generating commonly machined features such as internal pockets and drilled holes) are non-modal and only function during the call.

 - On some older controllers, cutter positioning (axis) commands (e.g., G00, G01, G02, G03, and G04) are non-modal requiring a new positioning command to be entered each time the cutter (or axis) is moved to another location.

![u35](/src/u35.png)

![u36](/src/u36.png)

![u37](/src/u37.png)

![u38](/src/u38.png)

![u39](/src/u39.png)
# Illustrative Example Program

 - A contour illustrated in figure is to be machined using a CNC milling machine. The details of the codes and programs used are given below.

# Example:

![u40](/src/u40.png)
# Figure: An illustrative example


![u41](/src/u41.png)

 - In the previous section, fundamentals of programming as well basic motion commands for milling and turning have been discussed. This section gives an overview of G codes used for changing the programming mode, applying transformations etc.

# Programming modes

 - Programming mode should be specified when it needs to be changed from absolute to incremental and vice versa. There are two programming modes, absolute and incremental and is discussed below.

# Absolute programming (G90)

 - In absolute programming, all measurements are made from the part origin established by the programmer and set up by the operator. Any programmed coordinate has the absolute value in respect to the absolute coordinate system zero point. The machine control uses the part origin as the reference point in order to position the tool during program execution.


![u42](/src/u42.png)

# Relative programming (G91)

 - In incremental programming, the tool movement is measured from the last tool position. The programmed movement is based on the change in position between two successive points. The coordinate value is always incremented according to the preceding tool location. The programmer enters the relative distance between current location and the next point .


![u43](/src/u43.png)

# Spindle control:

 - The spindle speed is programmed by the letter 'S' followed by four digit number, such as S1000. There are two ways to define speed.

 1.  Revolutions per minute (RPM)

 2.  Constant surface speed

 - The spindle speed in revolutions per minute is also known as constant rpm or direct rpm. The change in tool position does not affect the rpm commanded. It means that the spindle RPM will remain constant until another RPM is programmed. Constant surface speed is almost exclusively used on lathes. The RPM changes according to diameter being cut. The smaller the diameter, the more RPM is achieved; the bigger the diameter, the less RPM is commanded. This is changed automatically by the machine speed control unit while the tool is changing positions. This is the reason that, this spindle speed mode is known as diameter speed.

# Loops and Unconditional jump (G25)

 - The unconditional jump is used to repeat a set of statements a number of times.

 - Example: N10


![u44](/src/u44.png)

 - In the above example, the program statements from N70 to N100 are repeated once when the statement N160 is executed. Usually the G25 is used after a mirror statement. Illustrative example geometry and its program are given below (Figure 30.3).

# Example:


![u45](/src/u45.png)

 - Illustrative example for programming loops


![u46](/src/u46.png)

# Mirroring

 - The mirroring command is used when features of components shares symmetry about one or more axes and are also dimensionally identical. By using this code components can be machined using a single set of data and length of programs can be reduced.

 - G10 Cancellation of mirroring image

 - G11 Mirror image on X axis

 - G12 Mirror image on Y axis

 - G13 Mirror image on Z axis

# Example:


![u47](/src/u47.png)
 - Illustrative Example for mirroring


![u48](/src/u48.png)

# Shifting origin

 - G92 code is used to temporarily shift the origin to the reference point specified.


![u49](/src/u49.png)

 - Example: G92 X-100 Y-80
 - In the above statement the x and y values gives the present values of original origin after shifting it. This is illustrated through an example.

 - Example:


![u50](/src/u50.png)
 - Illustrative Example for shifting origin


![u51](/src/u51.png)

# Tool selection

 - Tool selection is accomplished using 'T' function followed by a four digit number where, first two digits are used to call the particular tool and last two digits are used to represent tool offset in the program. The tool offset is used to correct the values entered in the coordinate system preset block. This can be done quickly on the machine without actually changing the values in the program. Using the tool offsets, it is easy to set up the tools and to make adjustments

# Feed rate control

 - Cutting operations may be programmed using two basic feed rate modes:

 1. Feed rate per spindle revolution

 2. Feed rate per time

 - The feed rate per spindle revolution depends on the RPM programmed.

# Tool radius Compensation

 - The programmed point on the part is the command point. It is the destination point of the tool. The point on the tool that is used for programming is the tool reference point. These points may or may not coincide, depending on the type of tool used and machining operation being performed. When drilling, tapping, reaming, countersinking or boring on the machining center, the tool is programmed to the position of the hole or bore center - this is the command point.

 - When milling a contour, the tool radius center is used as the reference point on the tool while writing the program, but the part is actually cut by the point on the cutter periphery. This point is at 'r' distance from the tool center. This means that the programmer should shift the tool center away from the part in order to perform the cutting by the tool cutting edge. The shift amount depends upon the part geometry and tool radius. This technique is known as tool radius compensation or cutter radius compensation.

 - In case of machining with a single point cutting tool, the nose radius of the tool tip is required to be accounted for, as programs are being written assuming zero nose radius. The tool nose radius center is not only the reference point that can be used for programming contours. On the tool there is a point known as imaginary tool tip, which is at the intersection of the lines tangent to the tool nose radius.

 - Cutter compensation allows programming the geometry and not the toolpath. It also allows adjusting the size of the part, based on the tool radius used to cut part. This is useful when cutter of the proper diameter is not found.


![u52](/src/u52.png)
# Figure: Cutter diameter compensation
 - The information on the diameter of the tool, which the control system uses to calculate the required compensation, must be input into the control unit's memory before the operation. Tool diameter compensation is activated by the relevant preparatory functions (G codes) Compensation for tool radius can be of either right or left side compensation. This can be determined by direction of tool motion. If you are on the tool path facing direction of tool path and if tool is on your left and work piece is on your right side then use G41 (left side compensation). For, reverse use other code G42 (Right side compensation). Both the codes are modal in nature and remain active in the program until it is cancelled by using another code, G40.

  - Offset Direction = Left (G41)

![u53](/src/u53.png)

  - Offset Direction = Right (G42)

![u54](/src/u54.png)

  - Offset Direction = Off (G40)

![u55](/src/u55.png)

# Canned Cycles

 - A canned cycle is a preprogrammed sequence of events / motions of tool / spindle stored in memory of controller. Every canned cycle has a format. Canned cycle is modal in nature and remains activated until cancelled. Canned cycles are a great resource to make manual programming easier. Often underutilized, canned cycles save time and effort.

# Machining a Rectangular pocket

 - This cycle assumes the cutter is initially placed over the center of the pocket and at some clearance distance (typically 0.100 inch) above the top of the pocket. Then the cycle will take over from that point, plunging the cutter down to the peck depth and feeding the cutter around the pocket in ever increasing increments until the final size is attained. The process is repeated until the desired total depth is attained. Then the cutter is returned to the center of the pocket at the clearance height


![u56](/src/u56.png)
# Figure Pocket machining

 - The overall length and width of the pocket, rather than the distance of cutter motion, are programmed into this cycle.

# The syntax is : G87 Xx Yy Zz Ii Jj Kk Bb Cc Dd Hh Ll Ss

 - (This g code is entirely controller specific and the syntax may vary between controller to controller).

# Description:

 - x,y-Center of the part

 - z - Distance of the reference plane from top of part

 - i - Pocket depth

 - j,k - Half dimensions of the target geometry (pocket)

 - b - Step depth

 - c - Step over

 - d - Distance of the reference plane from top of part

 - h - Feed for finish pass

 - l - Finishing allowance

 - s - Speed

 - For machining a circular pocket, the same syntax with code G88 is used.

# Turning Cycles

 - The G80 command will make the tool move in a series of rectangular paths cutting material axially until the tool tip reaches target point P1 where the cycle ends as shown in figure 31.5. Cutting movements will be at the cutting feed rate. All other movements will be at rapid traverse rate.


![u57](/src/u57.png)
# Figure: Turning cycle (Straight cutting)

 - The syntax is G80 Xx Zz Ff

# Roughing Cycle

 - In roughing cycle, the final finishing cycle profile is used to perform the roughing operation for the higher material removal rate. The syntax for the roughing cycle is given below.

 - G81 Pp Qq Uu Ww Dd Ff Ss


![u58](/src/u58.png)


&nbsp;

# Canned Cycles – Multiple Cut

 - A canned cycle is a single command that executes a whole machining operation that requires repetitive tool motions. The cycle typically consists of a few blocks with data defining the area to be machined and so me cutting parameters. The coordinates of  individual tool motions are  determined automatically by the machine controller and the  motions are executed. An operation that may require tens or even hundreds of blocks of  program can be written in just a few blocks.  Canned cycles in Fanuc.

 - G71 Stock removal in turning

 - G72 Stock removal in facing

 - G73 Pattern repeat

 - G70 Finish turning

 - G74 Axial drilling

 - G75 Radial grooving

 - G76 Threading

# Turning cycle – G71

 - This cycle generates a part shape from a cylindrical raw material, with cuts along the  axis. The cycle definition has the part shape,  depth of cut, finish allowance and couple of  other parameters.

# Tool path

![u59](/src/u59.png)

# Format

# G71 U(d)_ R_

 - G71 P(s)_ Q(e)_ U(u)_ W_ F_

 - Ns _ _ _ _

 - _ _ _ _ _ _ _

 - _ _ _ _ _ _ _

 - Ne_ _ _ _

 - U(d) = Depth of cut, radius value

 - R =  Retract amount, radius value

 - P  =  Number of the first block of the shape

 - Q  =  Number of the last block of the shape

 - U(u)  =  Finishing allowance in X, diameter value

 - W  =  Finishing allowance in Z

 - F  =  Feed rate

 - The blocks after the second G71 block define the part contour A to B. Parameter P has the number of the first block Ns and Q has the last block Ne.

# Example

![u60](/src/u60.png)

 - G00 X49.0 Z5.0
 - G71 U3.0 R0.5
 - G71 P10 Q20 U1.0 W0.5 F0.2
 - N10 G00 X15.0 Z4.0
 - G01 Z-5.0
 - G02 X25.0 Z-10.0 R5.0
 - G03 X39.0 Z-17.0 R7.0
 - G01 Z-20.0
 - N20 G00 X49.0
 - G00 Z5.0

 - The tool path defining the shape (between the blocks defined by P and Q) must start and end beyond the raw material. In this example the start and end points are points P1 and P2 respectively, 2 mm. away from the raw material. Note the use of block numbers in the program example. Block numbers are optional, need not be used in every block.

 - Contour definition and signs of finish allowances:


![u61](/src/u61.png)

 - In the cycle, the area that is being machined decides:

 1. The signs of the finishing allowances U and W, and

 2. The way the part profile is defined

 - In each of the cases shown above, the tool is positioned at point P before calling the cycle and the part profile is defined from point A to B. The signs of the finish allowances U and W are as follows.

 - Case 1 (Outside-Right) : U +, W +
 - Case 2 (Outside-Left) : U +, W -
 - Case 3 (Inside-Right) : U -, W +
 - Case 4 (Inside-Left) : U -, W -

# Facing cycle G72

 - This cycle generates a part shape from a cylindrical raw material, with cuts perpendicular to the axis. The cycle definition has the part shape, depth of cut, finish allowance and couple of other parameters.
# Tool path


![u62](/src/u62.png)

# Format

 - G72 W(d)_ R_

 - G72 P(s)_ Q(e)_ U(u)_ W_ F_

 - Ns _ _ _ _

 - _ _ _ _ _ _ _

 - _ _ _ _ _ _ _

 - Ne_ _ _ _

 - W (d) =  Depth of cut

 - R  = Retract amount, radius value

 - P  =  Number of the first block of the shape

 - Q  =  Number of the last block of the shape

 - U (u)  =  Finishing allowance in X, diameter value

 - W  =  Finishing allowance in Z

 - F  =  Feed rate

 - The blocks after the second G72 block define the part contour A to B. Parameter P has the number of the first block Ns and Q has the last block Ne.

# Example

![u63](/src/u63.png)

 - G00 X49.0 Z-20.0
 - G72 W3.0 R0.5
 - G72 P10 Q20 U1.0 W0.5 F0.2
 - N10 G00 X49.0 Z-20.0
 - G01 X39.0
 - Z-17.0
 - G02 X25.0 Z-10.0 R7.0
 - G03 X15.0 Z-5.0 R5.0
 - N20 G01 Z4.0
 - G00 X49.0

 - In this example the start and end points are points P2 and P1 respectively, 2 mm. away from the raw material. Note that these are the reverse of the points in the G71 turning cycle.

 - Contour definition and signs of finish allowances:


![u64](/src/u64.png)

 - In the cycle, the area that is being machined decides:

 3. The signs of the finishing allowances U and W, and

 4. The way the part profile is defined

 - In each of the cases shown above, the tool is positioned at point P before calling the cycle and the part profile is defined from point A to B. The signs of the finish allowances U and are as follows.

 - Case 1 (Outside-Right) : U +, W +
 - Case 2 (Outside-Left) : U +, W -
 - Case 3 (Inside-Right) : U -, W +
 - Case 4 (Inside-Left) : U -, W -

# Pattern repeat cycle G73

 - This cycle generates a part shape from raw material that is the same shape as the final part with cuts parallel to the along the part shape. It is used when the raw material is a casting or forging. The cycle definition has the part shape, depth of material to be removed, number of cuts and finish allowance.

# Tool path


![u65](/src/u65.png)

# Format

 - G73 U(i)_ W(k)_ R_

 - G73 Ps_ Qe_ U(u)_ W(w)_ F_

 - Ns_ _ _ _ _

 - _ _ _ _ _ _ _ _

 - _ _ _ _ _ _ _ _

 - Ne_ _ _ _ _

 - U (i) =  Relief in the X axes direction

 - W (k)  =  Relief in the Z axis direction

 - R =  Number of cuts

 - P =  Number of first block of the shape

 - Q  =  Number of the last block of the shape

 - U (u)  =  Finishing allowance in X

 - W (w)  =  Finishing allowance in Z

 - F =  Feed rate

# Example

![u66](/src/u66.png)

 - -----
 - -----
 - G00 X60.0 Z10.0
 - G73 U5.0 W5.0 R3
 - G73 P10 Q20 U0.5 W0.5 F0.2
 - N10 G00 X15.0 Z4.0
 - G01 Z-5.0
 - G02 X25.0 Z-10.0 R5.0
 - G03 X39.0 Z-17.0 R7.0
 - G01 Z-20.0
 - N20 G00 X49.0
 - G00 Z5.0
 - -----
 - -----

 - The tool path defining the shape (between the blocks defined by P and Q) must start and end beyond the raw material. In this example the start and end points are points A and B respectively, 2 mm. away from the raw material. Contour definition and signs of finish allowances:

 - These are the same as in the G71 cycle.

# Finish turning cycle G70

 - This cycle does a single finish pass along a contour that has typically already been rough turned with a G71, G72 or G73 cycle. Nose radius compensation is automatically activated in G70.

# Tool path

![u67](/src/u67.png)

# Format
 - Ns_ _ _ _ _

 - _ _ _ _ _ _ _ _

 - _ _ _ _ _ _ _ _

 - Ne_ _ _ _ _

 - _ _ _ _ _

 - _ _ _ _ _

 - G70 P(s)_ Q(e)_ U_ W_

 - P  =  Number of first block of the shape

 - Q  =  Number of the last block of the shape

 - U  =  Finishing allowance in X

 - W  =  Finishing allowance in Z

 - If U or W are zero they can be omitted.

# Example

![u68](/src/u68.png)

 - -----
 - -----
 - G00 X49.0 Z5.0
 - (ROUGH TURN CONTOUR)
 - G71 U3.0 R0.5
 - G71 P10 Q60 U1.0 W0.5 F0.2
 - N10 G00 X15.0 Z4.0
 - N20 G01 Z-5.0
 - N30 G02 X25.0 Z-10.0 R5.0
 - N40 G03 X39.0 Z-17.0 R7.0
 - N50 G01 Z-20.0
 - N60 G00 X49.0
 - G00 X200.0 Z150.0 M05
 - M09
 - T0202 (TOOL CHANGE)
 - (FINISH TURN CONTOUR)
 - G96 S200 M03
 - G50 S2500
 - X49.0 Z5.0 M08
 - G70 P20 Q60 F0.15
 - -----
 - -----

# Axial drilling / grooving cycle - G74

 - This cycle does a peck drilling operation to drill a hole along the axis. The cycle can actually be used to drill multiple axial holes at various positions on the radius, on a machine with a C-axis and live tools. The explanation here is restricted to drilling a single axial hole.


![u69](/src/u69.png)

 - G74 R_
 - G74 Z_ Q_ F_

 - R  =  Retract amount at each peck
 - Z =  Z coordinate of hole bottom
 - Q  =  Peck depth, in microns
 - F  =  Feed rate

 - To drill the hole in a single pass (without pecking), set Q equal to the depth of the hole.

# Example

![u70](/src/u70.png)

 - -----
 - -----
 - G00 X0 Z 2.0
 - G74 R0.5
 - G74 Z-30.0 Q6000 F0.15
 - G00 X50.0
 - -----
 - -----

# Radial drilling / grooving cycle - G75

 - This cycle does a peck drilling operation for grooving or drilling perpendicular to the axis. The cycle can actually be used to cut multiple grooves, or (on a machine with a C-axis and live tools) drill multiple radial holes at various positions along the length,. The explanation here is restricted to cutting a single groove.

# Tool path

![u71](/src/u71.png)


![u72](/src/u72.png)

 - G75 R_
 - G75 X_ P_ F_
 - R  =  Retract amount after each peck, radial distance
 - X  =  X coordinate of groove bottom
 - P  =  Peck depth, radial distance in microns
 - F  =  Feed rate

# Example

![u73](/src/u73.png)

 - -----
 - G00 X54.0 Z-20.0
 - G75 R0.5
 - G75 X30.0 P3000 F0.1
 - G00 X100.0 Z50.0
 - -----


&nbsp;
# Threading Cycle- G76

 - N5 G76 P010060 Q100 R0.05

 - N6 G76 X30 Z-20 P1024 Q200 F2


![u74](/src/u74.png)

# First block of the G76 Threading cycle

 - G76 : G code for threading cycle.

 - P  :  P actually consists of multiple values which control the thread behavior,

  - 01 : Number of spring passes or spring cuts.

  - 00 : Thread run out at 45 degree

  - 60 : Flank angle or Infeed angle

 - Q  :  Depth of normal cut ( these values are given in hundreds, so the depth of cut will be 0.1 ).

 - R  :  Depth of Last or Finish cut

 - Second block of the G76 Threading cycle

 - G76  :  G code of the threading cycle.

 - X  :  The end value in x-axis.

 - Z  :  The end value in z-axis.

 - P  :  Thread depth ( as radius value ).

 - Q  :  Depth of first cut.

 - F  :  Thread Pitch

 - R  :  Thread Taper

# Example
# IMAGE 83

 - -----
 - -----
 - G00 X34.0 Z2.0
 - G76 P020060 Q100 R0
 - G76 X30.0 Z-39.0 R0 P1200 Q0.5 F2.0
 - G00 X100.0 Z50.0
 - -----

# Typical G and M codes

# G codes

 - G codes on a machine are decided by its controller's programming format. Machines of different makes with the same controller will have the same set of G codes.

 - Sample list of G codes:

 - G00 Rapid traverse
 - G01 Linear interpolation (feed)
 - G02 Circular interpolation CW
 - G03 Circular interpolation CCW
 - G04 Dwell
 - G20 Inch unit
 - G21 Metric unit
 - G28 Automatic zero return (returns to a fixed position, typically for tool change)
 - G30 2nd reference point return
 - G32 Thread cutting (single motion)
 - G40 Tool nose radius compensation cancel
 - G41 Tool nose radius compensation left
 - G42 Tool nose radius compensation right
 - G50 Limiting spindle speed setting
 - G70 Finishing cycle
 - G71 Stock removal in turning
 - G72 Stock removal in facing
 - G73 Pattern repeating
 - G74 Peck drilling on Z axis / Face grooving
 - G75 Peck drilling on X axis / Grooving
 - G76 Threading cycle
 - G90 Single cut turning cycle
 - G92 Single cut threading cycle
 - G94 Single cut facing cycle
 - G98 Feed per minute
 - G99 Feed per revolution
 - G96 Constant surface speed
 - G97 Constant spindle speed

# M-codes

 - Most M codes activate machine functions like the coolant, spindle, etc. These are decided by the machine manufacturer, and depend on the features that are available on the machine. E.g., a machine with a tailstock will have M codes for tailstock in/out. A few (like M00, M01, M02, M98, etc.in the list below) are fixed and based on the controller.

 - Sample list of M codes:

 - 0 Program stop
 - M01 Optional program stop
 - M02 Program end
 - M03 Spindle ON clock wise (CW)
 - M04 Spindle ON counter clock wise (CCW)
 - M05 Spindle stop
 - M06 Tool change
 - M08 Coolant ON
 - M09 Coolant OFF
 - M30 End of program and reset to start
 - M98 Sub program call
 - M99 Sub program end

# Full sample program

 - This is a sample program for a part with multiple operations – Rough turning, Finish turning, Grooving and Threading. It shows how a full program is put together. The blocks just before a tool change typically have a number of codes specific to a particular machine, specifically the type of its tool changer and its tool change position. They may appear odd and unfamiliar, and may be ignored for the purpose of understanding this program. The program has been generated by a CAD/CAM software that automatically considers the tool nose radius during contouring. Coordinates in finish turning are calculated with nose radius compensation, and will therefore not match the part coordinates.


![u75](/src/u75.png)
# Raw material : 80 dia. Bar, 2 mm. extra material for facing.

 - %
 - O1234
 - T0000
 - G0 X150.0 Z200.0
 - N1 T0101 (PCLNL 2525M12 R0.8)
 - G50 S3000
 - G96 S247 M03
 - (ROUGH FACE)
 - G0 X90 Z4. M07
 - X84.
 - G72 W3 R0.5
 - G72 P25 Q40 U0 W0.2 F0.3
 - N25 G0 Z0
 - N30 G01 X80 Z0
 - N35 X0
 - N40 Z2
 - G0 X90
 - (ROUGH TURN)
 - Z2.2
 - X84.
 - G71 U3. R0.5
 - G71 P45 Q95 U0.4 W0.2 F0.3
 - N45 G00 X26.
 - N50 G01 X26. Z0.2
 - N55 Z0.
 - N60 X30. Z-2.
 - N65 Z-38.
 - N70 Z-40.
 - N75 X60. Z-55.
 - N80 G03 X70. Z-60. I0. K-5.
 - N85 G01 Z-115.
 - N90 X80.
 - N95 X84. Z-115.
 - G0 X90.
 - M09
 - M05
 - T0000
 - G0 X150.0 Z200.0
 - N2 T0202 (PCLNL 2525M16 R0.4)
 - G50 S3000
 - G96 S296 M03
 - (FINISH FACE)
 - G0 X90. Z0. M07
 - X30.566
 - G01 G41 X26.566 F0.24
 - X0.
 - Z2.2
 - G0 G40 X90.
 - (FINISH TURN)
 - Z1.883
 - X25.766
 - G42 Z2.
 - G01 X26. F0.24
 - Z0.
 - X30. Z-2.
 - Z-40.
 - X60. Z-55.
 - G03 X70. Z-60. I0. K-5.
 - G01 Z-115.
 - X74.4
 - G0 G40 X90.
 - M09
 - M05
 - T0000
 - G0 X150.0 Z200.0
 - N3 T0303 (25X25, 2.00W, 0.20R, 08DEPTH, LH)
 - G50 S3000
 - G96 S258 M03
 - (GROOVE)
 - G0 X34. Z-40. M07
 - G01 X26. F0.2
 - G04 X0.046
 - G0 X34.
 - M09
 - M05
 - T0000
 - G0 X150.0 Z200.0
 - N4 T0404 (THREAD 16 X 16, 60 DEG., DEPTH 3.0, LH)
 - G97 S1645 M04
 - (THREADING)
 - X90. Z-1. M08
 - X34.
 - G76 P020060 Q0 R0
 - G76 X27.44 Z-39. R0. P1280 Q404 F2.
 - X90.
 - M09
 - M05
 - T0000
